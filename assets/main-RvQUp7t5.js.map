{"version":3,"file":"main-RvQUp7t5.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================================================\n  // 1. Скрипт для мобильного меню (Header)\n  // ==========================================================================\n  const menuToggle = document.getElementById('menuToggle');\n  const headerNav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  const toggleMenu = () => {\n      headerNav.classList.toggle('is-open');\n\n      const iconElement = menuToggle.querySelector('svg');\n      if (headerNav.classList.contains('is-open')) {\n          iconElement.setAttribute('data-lucide', 'x');\n      } else {\n          iconElement.setAttribute('data-lucide', 'menu');\n      }\n      lucide.createIcons();\n  };\n\n  menuToggle.addEventListener('click', toggleMenu);\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (window.innerWidth < 768) {\n              setTimeout(() => {\n                  if (headerNav.classList.contains('is-open')) {\n                      toggleMenu();\n                  }\n              }, 200);\n          }\n      });\n  });\n\n\n  // ==========================================================================\n  // 2. Скрипт для Cookie Pop-up (Этап 5)\n  // ==========================================================================\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookiesButton = document.getElementById('acceptCookies');\n  const cookieAccepted = localStorage.getItem('vantacraft_cookies_accepted');\n\n  const showCookiePopup = () => {\n      if (!cookieAccepted) {\n          cookiePopup.classList.remove('is-hidden');\n      }\n  }\n\n  const hideCookiePopup = () => {\n      cookiePopup.classList.add('is-hidden');\n      localStorage.setItem('vantacraft_cookies_accepted', 'true');\n  }\n\n  showCookiePopup();\n  acceptCookiesButton.addEventListener('click', hideCookiePopup);\n});\n// ==========================================================================\n    // 3. JS Анимация Hero-секции (Code Flow Grid)\n    // ==========================================================================\n    const canvas = document.getElementById('codeGridCanvas');\n\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let W = canvas.width = window.innerWidth;\n        let H = canvas.height = window.innerHeight;\n        const gridStep = 40; // Размер ячейки сетки\n        const color = '#007AFF'; // var(--color-primary)\n\n        let lines = [];\n\n        // Инициализация сетки\n        const initGrid = () => {\n            W = canvas.width = window.innerWidth;\n            H = canvas.height = window.innerHeight;\n            lines = [];\n\n            // Создаем вертикальные линии\n            for (let x = 0; x < W; x += gridStep) {\n                lines.push({ x: x, y: 0, type: 'vertical', speed: 0.5 + Math.random() });\n            }\n            // Создаем горизонтальные линии\n            for (let y = 0; y < H; y += gridStep) {\n                lines.push({ x: 0, y: y, type: 'horizontal', speed: 0.5 + Math.random() });\n            }\n        };\n\n        const drawGrid = () => {\n            // Очищаем фон\n            ctx.clearRect(0, 0, W, H);\n\n            // Цвет и стиль линий\n            ctx.lineWidth = 1;\n\n            lines.forEach(line => {\n                // Анимация: линии пульсируют или меняют яркость\n                const alpha = 0.1 + Math.sin(Date.now() * 0.001 * line.speed + line.x) * 0.1;\n                ctx.strokeStyle = `rgba(0, 122, 255, ${alpha})`;\n\n                ctx.beginPath();\n                if (line.type === 'vertical') {\n                    ctx.moveTo(line.x, 0);\n                    ctx.lineTo(line.x, H);\n                } else {\n                    ctx.moveTo(0, line.y);\n                    ctx.lineTo(W, line.y);\n                }\n                ctx.stroke();\n            });\n        };\n\n        // Главный цикл анимации\n        const animate = () => {\n            requestAnimationFrame(animate);\n            drawGrid();\n        };\n\n        // Запуск\n        initGrid();\n        animate();\n\n        // Адаптивность\n        window.addEventListener('resize', initGrid);\n    }\n    // ==========================================================================\n    // 4. JS Логика Анимированных Счетчиков (Этап 3.2)\n    // ==========================================================================\n    const counterBlocks = document.querySelectorAll('.counter-block');\n    const duration = 2000; // Длительность анимации в мс\n    let countersAnimated = false;\n\n    // Функция для анимации счетчика\n    const animateCounter = (element) => {\n        const target = +element.dataset.target;\n        const suffix = element.dataset.suffix || '';\n        const valueDisplay = element.querySelector('.counter-block__value');\n\n        if (!valueDisplay) return;\n\n        let startValue = 0;\n        const startTime = performance.now();\n\n        const updateCount = (timestamp) => {\n            const progress = (timestamp - startTime) / duration;\n            const current = Math.min(progress, 1) * target;\n\n            valueDisplay.textContent = Math.floor(current) + suffix;\n\n            if (progress < 1) {\n                requestAnimationFrame(updateCount);\n            }\n        };\n\n        requestAnimationFrame(updateCount);\n    };\n\n    // Функция для запуска счетчиков при появлении в области видимости\n    const startCountersOnScroll = () => {\n        if (countersAnimated) return;\n\n        const achievementsSection = document.getElementById('achievements');\n        if (!achievementsSection) return;\n\n        const rect = achievementsSection.getBoundingClientRect();\n\n        // Проверяем, находится ли верхняя граница секции выше или на уровне 80% от высоты окна\n        if (rect.top <= window.innerHeight * 0.8) {\n            counterBlocks.forEach(animateCounter);\n            countersAnimated = true;\n            window.removeEventListener('scroll', startCountersOnScroll);\n        }\n    };\n\n    window.addEventListener('scroll', startCountersOnScroll);\n    startCountersOnScroll(); // Проверка при загрузке страницы (если секция сразу видна)\n\n    // Инициализация AOS (библиотека для анимации появления секций)\n    AOS.init({\n        duration: 1000,\n        once: true, // Анимация только один раз\n    });\n    // ==========================================================================\n    // 5. JS Логика Аккордеона (FAQ) (Этап 3.5)\n    // ==========================================================================\n    const accordionHeaders = document.querySelectorAll('.accordion__header');\n\n    accordionHeaders.forEach(header => {\n        header.addEventListener('click', () => {\n            const item = header.closest('.accordion__item');\n            const content = item.querySelector('.accordion__content');\n            const isExpanded = header.getAttribute('aria-expanded') === 'true';\n\n            // Закрыть все остальные\n            accordionHeaders.forEach(h => {\n                const otherItem = h.closest('.accordion__item');\n                const otherContent = otherItem.querySelector('.accordion__content');\n\n                if (otherItem !== item) {\n                    h.setAttribute('aria-expanded', 'false');\n                    otherContent.classList.remove('is-active');\n                    otherContent.style.maxHeight = '0';\n                }\n            });\n\n            // Открыть/Закрыть текущий\n            if (!isExpanded) {\n                header.setAttribute('aria-expanded', 'true');\n                content.classList.add('is-active');\n                // Устанавливаем высоту для анимации. scrollHeight дает фактическую высоту контента.\n                content.style.maxHeight = content.scrollHeight + 'px';\n            } else {\n                header.setAttribute('aria-expanded', 'false');\n                content.style.maxHeight = '0';\n                // Удаляем класс is-active после завершения анимации (чтобы убрать лишние padding)\n                content.addEventListener('transitionend', () => {\n                    if (header.getAttribute('aria-expanded') === 'false') {\n                        content.classList.remove('is-active');\n                    }\n                }, { once: true });\n            }\n        });\n    });\n// ==========================================================================\n    // 7. JS Логика Формы Контактов и CAPTCHA (Этап 4)\n    // ==========================================================================\n    const contactForm = document.getElementById('contactForm');\n    const captchaDisplay = document.getElementById('captchaDisplay');\n    const captchaInput = document.getElementById('captchaInput');\n    const captchaMessage = document.getElementById('captchaMessage');\n    const submissionMessage = document.getElementById('submissionMessage');\n    const policyAccept = document.getElementById('policyAccept');\n\n    let correctAnswer = 0;\n\n    /**\n     * Генерирует простой математический пример (CAPTCHA).\n     */\n    function generateCaptcha() {\n        const operator = Math.random() < 0.5 ? '+' : '-';\n        let num1 = Math.floor(Math.random() * 15) + 5;\n        let num2 = Math.floor(Math.random() * 10) + 1;\n\n        if (operator === '-' && num1 < num2) {\n            [num1, num2] = [num2, num1];\n        }\n\n        correctAnswer = operator === '+' ? num1 + num2 : num1 - num2;\n        captchaDisplay.textContent = `${num1} ${operator} ${num2} = ?`;\n        captchaMessage.textContent = '';\n        captchaInput.value = '';\n    }\n\n    /**\n     * Валидирует ответ CAPTCHA.\n     * @returns {boolean} True, если ответ верный.\n     */\n    function validateCaptcha() {\n        if (!captchaInput.value.trim()) {\n            captchaMessage.textContent = 'Пожалуйста, решите пример.';\n            captchaMessage.style.color = '#FF4545';\n            return false;\n        }\n\n        const userAnswer = parseInt(captchaInput.value.trim());\n        if (userAnswer === correctAnswer) {\n            captchaMessage.textContent = 'Капча успешно пройдена!';\n            captchaMessage.style.color = 'var(--color-primary)';\n            return true;\n        } else {\n            captchaMessage.textContent = 'Неверный ответ. Попробуйте еще раз.';\n            captchaMessage.style.color = '#FF4545';\n            generateCaptcha();\n            return false;\n        }\n    }\n\n    // Инициализация CAPTCHA при загрузке страницы\n    generateCaptcha();\n\n    // Обработчик отправки формы\n    contactForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n        submissionMessage.style.display = 'none';\n\n        const isCaptchaValid = validateCaptcha();\n        const isPolicyAccepted = policyAccept.checked;\n\n        if (isCaptchaValid && isPolicyAccepted) {\n\n            // Имитация успешной отправки данных\n            console.log('Form Submitted and Validated:', {\n                name: document.getElementById('contactName').value,\n                email: document.getElementById('contactEmail').value,\n                phone: document.getElementById('contactPhone').value,\n            });\n\n            // Показываем сообщение об успехе ТОЛЬКО после успешной валидации\n            submissionMessage.style.display = 'block';\n\n            // Сброс формы и генерация новой капчи\n            contactForm.reset();\n            generateCaptcha();\n\n            // Автоматически скрываем сообщение через 5 секунд\n            setTimeout(() => {\n                submissionMessage.style.display = 'none';\n            }, 5000);\n\n        } else if (!isPolicyAccepted) {\n            alert('Пожалуйста, примите условия использования и политику конфиденциальности.');\n            policyAccept.focus();\n        }\n    });"],"names":["menuToggle","headerNav","navLinks","toggleMenu","iconElement","link","cookiePopup","acceptCookiesButton","cookieAccepted","showCookiePopup","hideCookiePopup","canvas","ctx","W","H","gridStep","lines","initGrid","x","y","drawGrid","line","alpha","animate","counterBlocks","duration","countersAnimated","animateCounter","element","target","suffix","valueDisplay","startTime","updateCount","timestamp","progress","current","startCountersOnScroll","achievementsSection","accordionHeaders","header","item","content","isExpanded","h","otherItem","otherContent","contactForm","captchaDisplay","captchaInput","captchaMessage","submissionMessage","policyAccept","correctAnswer","generateCaptcha","operator","num1","num2","validateCaptcha","event","isCaptchaValid","isPolicyAccepted"],"mappings":"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"}